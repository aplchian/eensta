/*!
   --------------------------------
   Eensta - Instagram jQuery Plugin
   --------------------------------
   + https://github.com/tsiger/eensta
   + version 0.1
   + Copyright 2014 Gerasimos Tsiamalos
   + Licensed under the MIT license
*/

(function(a,k,l,m){function c(b,h){this.element=b;this.settings=a.extend({},g,h);this._defaults=g;this._name=d;this.init()}var d="eensta",g={client_id:null,username:null,linkable:!0,how_many:5};a.extend(c.prototype,{init:function(){var b=this,d=a(b.element);null!==b.settings.username&&null!==b.settings.client_id?a.ajax({type:"GET",url:"https://api.instagram.com/v1/users/search?q="+b.settings.username+"&client_id="+b.settings.client_id+"&callback=?",dataType:"jsonp",success:function(e){if(200===e.meta.code)for(var f= 0;f<e.data.length;f++){var c=e.data[f];b.settings.username===c.username&&a.ajax({type:"GET",url:"https://api.instagram.com/v1/users/"+c.id+"/media/recent/?client_id="+b.settings.client_id+"&count="+b.settings.how_many+"&callback=?",dataType:"jsonp",success:function(a){if(200===a.meta.code)for(var c=0;c<a.data.length;c++){var e=a.data[c];if("image"===e.type){var f="",f=b.settings.linkable?'<li class="eensta-item"><a href="'+a.data[c].link+'"><img src="'+e.images.standard_resolution.url+'" /></a></li>': '<li class="eensta-item"><img src="'+e.images.standard_resolution.url+'" /></li>';d.append(f)}}}})}}}):d.append("Eensta Error: You need to specify a <strong>username</strong> and a <strong>client id</strong>")}});a.fn[d]=function(b){this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))});return this}})(jQuery,window,document);